IF EXISTS (
SELECT *
    FROM INFORMATION_SCHEMA.ROUTINES
WHERE SPECIFIC_SCHEMA = N'dbo'
    AND SPECIFIC_NAME = N'PR_BOOKING_INSERT'
    AND ROUTINE_TYPE = N'PROCEDURE'
)
DROP PROCEDURE dbo.PR_BOOKING_INSERT
GO

CREATE PROCEDURE dbo.PR_BOOKING_INSERT
        @resourceId INTEGER,
        @userId INTEGER,
        @beginMiliseconds DATETIME,
        @endMiliseconds DATETIME
AS
    SET NOCOUNT ON
    INSERT INTO TB_BOOKING(RESOURCE_CD, USER_CD, BEGIN_HR, END_HR, STATUS_CD)
            OUTPUT inserted.BOOKING_CD
    VALUES(@resourceId, @userId, @beginMiliseconds, @endMiliseconds, 1)
GO
